from jmetal.algorithm.multiobjective import NSGAII
from jmetal.operator import SBXCrossover, PolynomialMutation
from jmetal.problem import ZDT1
from jmetal.util.termination_criterion import StoppingByEvaluations
from jmetal.core.quality_indicator import *
from jmetal.core.quality_indicator import GenerationalDistance, HyperVolume
problem = ZDT1(number_of_variables = 2)

algorithm = NSGAII(
    problem=problem,
    population_size=100,
    offspring_population_size=100,
    mutation=PolynomialMutation(probability=0.5 / problem.number_of_variables, distribution_index=20),
    crossover=SBXCrossover(probability=0.9, distribution_index=20),  
    termination_criterion=StoppingByEvaluations(max_evaluations=250),
)

algorithm.run()


from jmetal.util.solution import get_non_dominated_solutions, print_function_values_to_file, print_variables_to_file

front = get_non_dominated_solutions(algorithm.get_result())

# save to files
print_function_values_to_file(front, 'FUN.NSGAII.ZDT1')
print_variables_to_file(front, 'VAR.NSGAII.ZDT1')

#Or visualize the Pareto front approximation produced by the algorithm:
from jmetal.lab.visualization import Plot

plot_front = Plot(title='Pareto front approximation', axis_labels=['x', 'y'])
plot_front.plot(front, label='NSGAII-ZDT1', filename='NSGAII-ZDT1', format='png')
